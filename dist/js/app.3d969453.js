(function(){"use strict";var e={6078:function(e,t,i){var s=i(9242),d=i(3396),o=i.p+"img/addfile.230ddbd3.svg",l=i.p+"img/addfolder.ccb36d10.svg";const r={class:"file-tree-component"},n={class:"header"},a=(0,d.Uk)(" Components Tree "),c={class:"buttons-wrapper"},h=(0,d._)("img",{src:o,alt:"Add file"},null,-1),p=[h],m=(0,d._)("img",{src:l,alt:"Add folder"},null,-1),u=[m],g={class:"file-tree-wrapper"};function f(e,t,i,o,l,h){const m=(0,d.up)("TreeObjectComponent"),f=(0,d.up)("ModalWindow");return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d._)("div",r,[(0,d._)("div",n,[a,(0,d._)("div",c,[(0,d._)("div",{class:"button",onClick:t[0]||(t[0]=(0,s.iM)(((...t)=>e.getAddFileWindow&&e.getAddFileWindow(...t)),["stop"]))},p),(0,d._)("div",{class:"button",onClick:t[1]||(t[1]=(0,s.iM)(((...t)=>e.getAddFolderWindow&&e.getAddFolderWindow(...t)),["stop"]))},u)])]),(0,d._)("div",g,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(e.getters.items,(t=>((0,d.wg)(),(0,d.j4)(m,{key:t.id,item:t,clickedId:e.getters.clickedId,onItemClick:e.itemClick,onItemEdit:e.getEditNameWindow,onItemDelete:e.itemDelete},null,8,["item","clickedId","onItemClick","onItemEdit","onItemDelete"])))),128))])]),((0,d.wg)(),(0,d.j4)(d.lR,{to:"body",disabled:!e.getters.isModal},[e.getters.isModal?((0,d.wg)(),(0,d.j4)(f,{key:0,title:e.getters.modalTitle,modalText:e.getters.modalText,type:e.getters.modalType,onAccept:e.accept,onChanged:e.textChanged,onGetClose:t[2]||(t[2]=t=>(e.$store.dispatch("setIsModal",!1),e.$store.dispatch("setModalText","")))},null,8,["title","modalText","type","onAccept","onChanged"])):(0,d.kq)("",!0)],8,["disabled"]))],64)}var I=i(2482),k=i(6520);class w{constructor(e,t,i,s,d=0){(0,I.Z)(this,"id",void 0),(0,I.Z)(this,"parentId",void 0),(0,I.Z)(this,"name",void 0),(0,I.Z)(this,"isFolder",void 0),(0,I.Z)(this,"children",void 0),this.id=e,this.name=t,this.isFolder=i,this.children=s,this.parentId=d}}var v=i(7139),T=i.p+"img/folder.49aace94.svg",C=i.p+"img/file.1e36084d.svg",$=i.p+"img/edit.58ccd87a.svg",M=i.p+"img/delete.114fe50f.svg";const b=e=>((0,d.dD)("data-v-6efca5aa"),e=e(),(0,d.Cn)(),e),y={class:"content-wrapper"},D={key:0,src:T},x={key:1,src:C},_={class:"name"},F={class:"button"},j=b((()=>(0,d._)("img",{src:M},null,-1))),E=[j],O={class:"sub-item-component"};function P(e,t,i,o,l,r){const n=(0,d.up)("TreeObjectComponent",!0);return(0,d.wg)(),(0,d.iD)("div",{class:"tree-object-component",style:(0,v.j5)(e.style),onClick:t[2]||(t[2]=(0,s.iM)(((...t)=>e.itemClick&&e.itemClick(...t)),["stop"])),onItemClick:t[3]||(t[3]=(...t)=>e.itemClick&&e.itemClick(...t)),onItemDelete:t[4]||(t[4]=(...t)=>e.itemDelete&&e.itemDelete(...t))},[(0,d._)("div",y,[this.$props.item.isFolder?((0,d.wg)(),(0,d.iD)("img",D)):((0,d.wg)(),(0,d.iD)("img",x)),(0,d._)("div",_,(0,v.zw)(e.item.name),1),(0,d._)("div",F,[(0,d._)("img",{src:$,onClick:t[0]||(t[0]=(0,s.iM)(((...t)=>e.itemEdit&&e.itemEdit(...t)),["stop"]))})]),(0,d._)("div",{class:"button-delete",onClick:t[1]||(t[1]=(0,s.iM)(((...t)=>e.itemDelete&&e.itemDelete(...t)),["stop"]))},E)]),(0,d._)("div",O,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(e.item.children,(t=>((0,d.wg)(),(0,d.j4)(n,{key:t.id,item:t,clickedId:e.clickedId,onItemClick:e.itemClick,onItemEdit:e.itemEdit,onItemDelete:e.itemDelete},null,8,["item","clickedId","onItemClick","onItemEdit","onItemDelete"])))),128))])],36)}var A,W;let Z=(A=(0,k.Ei)({components:{},props:{item:{type:Object,default:{}},clickedId:{type:Number,default:{}}},emits:["item-click","item-delete","item-edit","changed"],watch:{}}),A(W=class extends k.w3{itemClick(e,t){this.$emit("item-click","object"===typeof e?this.$props.item.id:e,"object"===typeof e?this.$props.item.parentId:t)}itemDelete(e,t){this.$emit("item-delete","object"===typeof e?this.$props.item.id:e,0===this.$props.item.parentId?t:this.$props.item.parentId)}itemEdit(e,t,i){this.$emit("item-edit","object"===typeof e?this.$props.item.id:e,0===this.$props.item.parentId?t:this.$props.item.parentId,"object"===typeof e?this.$props.item.name:i)}get style(){let e=this.$props.item.id===this.$props.clickedId?"rgba(80,255,80,.4)":"transparent",t=this.$props.item.id===this.$props.clickedId?"rgba(80,255,80,.4)":"rgba(0,225,225,.12)";return{"--is-clicked":e,"--is-hovered":t}}})||W);var S=i(89);const N=(0,S.Z)(Z,[["render",P],["__scopeId","data-v-6efca5aa"]]);var H=N,K=i.p+"img/close.8eb46683.svg",Y=i.p+"img/check.1f6fca81.svg";const z=e=>((0,d.dD)("data-v-5291f6dc"),e=e(),(0,d.Cn)(),e),q=["onClick"],B={class:"header"},G={class:"content"},R={class:"footer"},U=z((()=>(0,d._)("img",{src:K},null,-1))),J=[U],L=z((()=>(0,d._)("img",{src:Y},null,-1))),Q=[L];function V(e,t,i,o,l,r){const n=(0,d.up)("InputFieldComponent");return(0,d.wg)(),(0,d.iD)("div",{class:"modal-widow",onClick:t[2]||(t[2]=(0,s.iM)(((...t)=>e.getClose&&e.getClose(...t)),["stop"]))},[(0,d._)("div",{class:"window",onClick:(0,s.iM)((e=>!0),["stop"])},[(0,d._)("div",B,(0,v.zw)(e.title),1),(0,d._)("div",G,[(0,d.Wm)(n,{placeholder:"Input Name",text:e.modalText,onSubmitted:e.accept,onChanged:e.changed},null,8,["text","onSubmitted","onChanged"])]),(0,d._)("div",R,[(0,d._)("div",{class:"button",onClick:t[0]||(t[0]=(0,s.iM)(((...t)=>e.getClose&&e.getClose(...t)),["stop"]))},J),(0,d._)("div",{class:"button",onClick:t[1]||(t[1]=(0,s.iM)(((...t)=>e.accept&&e.accept(...t)),["stop"]))},Q)])],8,q)])}const X={class:"input-field-component"},ee=["value","placeholder"];function te(e,t,i,o,l,r){return(0,d.wg)(),(0,d.iD)("div",X,[(0,d._)("input",{class:"input-field",id:"input-field",value:e.text,onInput:t[0]||(t[0]=(...t)=>e.change&&e.change(...t)),onKeyup:t[1]||(t[1]=(0,s.D2)(((...t)=>e.submitted&&e.submitted(...t)),["enter"])),placeholder:e.placeholder},null,40,ee)])}var ie,se;let de=(ie=(0,k.Ei)({components:{},props:{text:{type:String,default:""},placeholder:{type:String,default:""}},emits:["changed","submitted"],watch:{}}),ie(se=class extends k.w3{mounted(){let e=document.getElementById("input-field");e.focus()}change(e){this.$emit("changed",e.target.value)}submitted(){this.$emit("submitted")}})||se);const oe=(0,S.Z)(de,[["render",te],["__scopeId","data-v-20443c53"]]);var le,re,ne=oe;let ae=(le=(0,k.Ei)({components:{InputFieldComponent:ne},props:{type:{type:String,default:""},title:{type:String,default:""},modalText:{type:String,default:""}},emits:["get-close","accept","changed"],watch:{}}),le(re=class extends k.w3{getClose(){this.$emit("get-close")}accept(){this.$props.modalText.length>0&&this.$emit("accept",this.$props.modalText,this.$props.type)}changed(e){this.$emit("changed",e)}})||re);const ce=(0,S.Z)(ae,[["render",V],["__scopeId","data-v-5291f6dc"]]);var he,pe,me=ce;let ue=(he=(0,k.Ei)({components:{TreeObjectComponent:H,ModalWindow:me},props:{},emits:[],watch:{}}),he(pe=class extends k.w3{constructor(...e){super(...e),(0,I.Z)(this,"tree",[])}mounted(){this.$store.dispatch("initItems"),this.tree=this.getters.items}get getters(){return{items:this.$store.getters.getItems,clickedId:this.$store.getters.getClickedId,isModal:this.$store.getters.getIsModal,clickedParentId:this.$store.getters.getClickedParentId,modalTitle:this.$store.getters.getModalTitle,modalText:this.$store.getters.getModalText,modalType:this.$store.getters.getModalType}}textChanged(e){this.$store.dispatch("setModalText",e)}itemClick(e,t){this.$store.dispatch("setClickedId",e),this.$store.dispatch("setClickedParentId",t)}itemDelete(e,t){this.$store.dispatch("setIsModal",!1);for(let i=0;i<this.tree.length;i++){let s=this.tree[i];s.id===t?this.recursionChecking(this.tree,s,e,"delete"):s.id===e&&(this.tree=this.tree.filter((e=>e.id!==s.id)),this.$store.dispatch("setItems",this.tree))}this.$store.dispatch("setClickedId",-1),this.$store.dispatch("setClickedParentId",-1)}recursionChecking(e,t,i,s){t.children.length>0&&t.children.forEach((e=>{e.id===i?("delete"===s?t.children=t.children.filter((t=>t.id!==e.id)):"edit"===s?(e.name=this.getters.modalText,t.children=this.sortFolderData(t.children)):"addfile"!==s&&"addfolder"!==s||(e.isFolder?("addfile"===s?e.children.push(new w((new Date).getTime(),this.getters.modalText,!1,[],e.id)):e.children.push(new w((new Date).getTime(),this.getters.modalText,!0,[],e.id)),e.children=this.sortFolderData(e.children)):("addfile"===s?t.children.push(new w((new Date).getTime(),this.getters.modalText,!1,[],t.id)):t.children.push(new w((new Date).getTime(),this.getters.modalText,!0,[],t.id)),t.children=this.sortFolderData(t.children))),this.$store.dispatch("setItems",this.tree)):this.recursionChecking(t,e,i,s)}))}getAddFileWindow(){this.$store.dispatch("setModalTitle","Add File"),this.$store.dispatch("setModalType","addfile"),this.$store.dispatch("setModalText",""),this.$store.dispatch("setIsModal",!0)}getAddFolderWindow(){this.$store.dispatch("setModalTitle","Add Folder"),this.$store.dispatch("setModalType","addfolder"),this.$store.dispatch("setModalText",""),this.$store.dispatch("setIsModal",!0)}getEditNameWindow(e,t,i){this.$store.dispatch("setClickedId",e),this.$store.dispatch("setClickedParentId",t),this.$store.dispatch("setModalTitle","Edit Name"),this.$store.dispatch("setModalType","edit"),this.$store.dispatch("setModalText",i),this.$store.dispatch("setIsModal",!0)}accept(e,t){if(this.$store.dispatch("setIsModal",!1),this.tree=this.getters.items,-1!==this.getters.clickedId||-1!==this.getters.clickedParentId||"addfile"!==t&&"addfolder"!==t)for(let i=0;i<this.tree.length;i++){let s=this.tree[i];if(s.id===this.getters.clickedId){"delete"===t?this.tree=this.tree.filter((e=>e.id!==s.id)):"edit"===t?(s.name=e,this.tree=this.sortFolderData(this.tree)):"addfile"!==t&&"addfolder"!==t||(s.isFolder?("addfile"===t?s.children.push(new w((new Date).getTime(),e,!1,[],s.id)):s.children.push(new w((new Date).getTime(),e,!0,[],s.id)),s.children=this.sortFolderData(s.children)):("addfile"===t?this.tree.push(new w((new Date).getTime(),e,!1,[],0)):this.tree.push(new w((new Date).getTime(),e,!0,[],0)),this.tree=this.sortFolderData(this.tree))),this.$store.dispatch("setItems",this.tree);break}this.recursionChecking(this.tree,s,this.getters.clickedId,t)}else"addfile"===t?this.tree.push(new w((new Date).getTime(),e,!1,[],0)):this.tree.push(new w((new Date).getTime(),e,!0,[],0)),this.tree=this.sortFolderData(this.tree),this.$store.dispatch("setItems",this.tree)}sortFolderData(e){let t=e.filter((e=>e.isFolder)),i=e.filter((e=>!e.isFolder));return t=t.sort(((e,t)=>e.name.localeCompare(t.name))),i=i.sort(((e,t)=>e.name.localeCompare(t.name))),[...t,...i]}})||pe);const ge=(0,S.Z)(ue,[["render",f]]);var fe=ge,Ie=i(65),ke={actions:{initItems(e){const t=[new w(1,"Dir 1",!0,[new w(11,"Dir 1-1",!0,[new w(111,"File 1-1-1",!1,[],11)],1),new w(12,"File 1-2",!1,[],1)],0),new w(2,"Dir 2",!0,[new w(21,"Dir 2-1",!0,[new w(22,"File 2-2",!1,[],21)],2)],0),new w(20,"File 2",!1,[],0)];e.commit("updateItems",t)},setItems(e,t){e.commit("updateItems",t)},setClickedId(e,t){e.commit("updateClickedId",t)},setClickedParentId(e,t){e.commit("updateClickedParentId",t)},setIsModal(e,t){e.commit("updateIsModal",t)},setModalTitle(e,t){e.commit("updateModalTitle",t)},setModalText(e,t){e.commit("updateModalText",t)},setModalType(e,t){e.commit("updateModalType",t)}},mutations:{updateItems:function(e,t){e.items=t},updateClickedId(e,t){e.clickedId=t},updateClickedParentId(e,t){e.clickedParentId=t},updateIsModal(e,t){e.isModal=t},updateModalTitle(e,t){e.modalTitle=t},updateModalText(e,t){e.modalText=t},updateModalType(e,t){e.modalType=t}},state:{items:[],clickedId:-1,clickedParentId:-1,isModal:!1,modalTitle:"",modalText:"",modalType:""},getters:{getItems:e=>e.items,getClickedId:e=>e.clickedId,getClickedParentId:e=>e.clickedParentId,getIsModal:e=>e.isModal,getModalTitle:e=>e.modalTitle,getModalText:e=>e.modalText,getModalType:e=>e.modalType}},we=(0,Ie.MT)({modules:{items:ke}});(0,s.ri)(fe).use(we).mount("#app")}},t={};function i(s){var d=t[s];if(void 0!==d)return d.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,s,d,o){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],d=e[c][1],o=e[c][2];for(var r=!0,n=0;n<s.length;n++)(!1&o||l>=o)&&Object.keys(i.O).every((function(e){return i.O[e](s[n])}))?s.splice(n--,1):(r=!1,o<l&&(l=o));if(r){e.splice(c--,1);var a=d();void 0!==a&&(t=a)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,d,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p=""}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var d,o,l=s[0],r=s[1],n=s[2],a=0;if(l.some((function(t){return 0!==e[t]}))){for(d in r)i.o(r,d)&&(i.m[d]=r[d]);if(n)var c=n(i)}for(t&&t(s);a<l.length;a++)o=l[a],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},s=self["webpackChunkfile_tree_test"]=self["webpackChunkfile_tree_test"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(6078)}));s=i.O(s)})();
//# sourceMappingURL=app.3d969453.js.map